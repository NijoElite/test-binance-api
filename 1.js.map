{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./src/components/Table/Table.jsx","webpack:///./src/components/Table/Table.scss?b3f4","webpack:///./src/components/Table/Table.scss","webpack:///./src/libs/helpers/index.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./src/features/Landing/Landing.scss?353f","webpack:///./src/features/Landing/Landing.scss","webpack:///./src/features/Landing/Landing.jsx"],"names":["arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","module","exports","arr","arrayLikeToArray","Array","isArray","iter","Symbol","iterator","Object","from","TypeError","cnTable","cn","Table","children","className","restProps","TableHead","TableHeadCell","TableRow","TableCell","color","align","borderLeft","borderRight","borderBottom","borderTop","TableBody","api","content","__esModule","default","i","options","locals","___CSS_LOADER_API_IMPORT___","push","formatNumber","str","fractionDigits","isNaN","Number","toFixed","self","ReferenceError","setPrototypeOf","subClass","superClass","prototype","create","constructor","value","writable","configurable","_setPrototypeOf","o","p","__proto__","_typeof","assertThisInitialized","call","obj","_getPrototypeOf","getPrototypeOf","cnLanding","Landing","props","binance","core","getPlugin","bus","state","bids","asks","lastUpdateId","selectedSymbol","getAvailableSymbols","subscription","onSymbolChanged","bind","onDepthUpdate","onMediaChange","this","removeEventListener","mql","unsubscribeWSS","updateDepth","subscribeWSS","addEventListener","window","matchMedia","addListener","setState","isMobile","matches","e","data","s","u","bidsToUpdate","b","asksToUpdate","a","partialState","busMessage","updateFn","arrWithUpdates","result","price","qty","index","findIndex","type","prev","next","curPrice","curQty","splice","length","trigger","streamName","toLowerCase","symbol","getDepth","depth","json","enabled","rows","rowsCount","Math","max","sortedBids","sort","sortedAsks","formatStr","askPrice","askQty","bidPrice","bidQty","bidTotal","askTotal","key","colSpan","React","Component"],"mappings":"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","file":"1.js","sourcesContent":["var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","import React from 'react';\nimport { cn } from '@bem-react/classname';\n\nimport './Table.scss';\n\nconst cnTable = cn('Table');\n\nexport const Table = ({ children, className, ...restProps }) => {\n  return (\n    <div className={cnTable(null, [className])} {...restProps}>\n      <table className={cnTable('Root')}>\n        {children}\n      </table>\n    </div>\n  );\n};\n\nexport const TableHead = ({ children, ...restProps }) => {\n  return <thead className={cnTable('Head')} {...restProps}> {children}</thead>;\n};\n\nexport const TableHeadCell = ({ children, ...restProps }) => {\n  return <th className={cnTable('HeadCell')} {...restProps}>{children}</th>;\n};\n\nexport const TableRow = ({ children, ...restProps }) => {\n  return <tr className={cnTable('Row')} {...restProps}>{children}</tr>;\n};\n\nexport const TableCell = ({ children, color, align = 'center', borderLeft, borderRight, borderBottom, borderTop, ...restProps }) => {\n  return <td className={cnTable('Cell', { color, align, borderLeft, borderRight, borderBottom, borderTop })} {...restProps}>{children}</td>;\n};\n\nexport const TableBody = ({ children, ...restProps }) => {\n  return <tbody className={cnTable('Body')} {...restProps}>{children}</tbody>;\n};\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./Table.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Table-Root{width:100%;border-collapse:collapse;table-layout:fixed}.Table-Row{height:30px}.Table-Head .Table-Row:last-child{border:2px solid #1e1e1e}.Table-HeadCell{font-size:16px;font-weight:bold}.Table-Cell{padding:10px;font-size:14px;font-weight:normal;overflow-x:hidden}.Table-Cell_align_center{text-align:center}.Table-Cell_align_left{text-align:left}.Table-Cell_align_right{text-align:right}.Table-Cell_borderRight{border-right:2px solid #1e1e1e}.Table-Cell_borderLeft{border-left:2px solid #1e1e1e}.Table-Cell_color_red{color:#f84960}.Table-Cell_color_green{color:#02c076}@media screen and (max-width: 600px){.Table-Cell{padding:4px;overflow-x:scroll}.Table-Cell::-webkit-scrollbar{width:0;height:0}.Table-Cell::-webkit-scrollbar-thumb{display:block}.Table-Cell::-webkit-scrollbar-track{background:transparent}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export const formatNumber = (str, fractionDigits) => !isNaN(str) ? Number(str).toFixed(fractionDigits) : '';\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./Landing.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Landing{display:flex;height:100%;justify-content:center}.Landing-Table{width:100%;max-height:100%;overflow-x:hidden;overflow-y:auto}.Landing-Table::-webkit-scrollbar{width:5px}.Landing-Table::-webkit-scrollbar-thumb{display:none;height:90px;background:#646464;border-radius:10px}.Landing-Table::-webkit-scrollbar-track{background:transparent}.Landing-Table:hover::-webkit-scrollbar-thumb{display:block}@media screen and (max-width: 700px){.Landing-Table::-webkit-scrollbar-thumb{display:block}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import React from 'react';\nimport core from '../../libs/core/core';\nimport { Table, TableHead, TableHeadCell, TableRow, TableCell, TableBody } from '../../components/Table/Table';\nimport { cn } from '@bem-react/classname';\n\nimport './Landing.scss';\nimport { formatNumber } from '../../libs/helpers';\n\nconst cnLanding = cn('Landing');\n\nclass Landing extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.binance = core.getPlugin('binance');\n    this.bus = core.getPlugin('bus');\n\n    this.state = {\n      bids: [],\n      asks: [],\n      lastUpdateId: null,\n      selectedSymbol:   this.binance.getAvailableSymbols()[0],\n    };\n\n    this.subscription = null;\n\n    this.onSymbolChanged = this.onSymbolChanged.bind(this);\n    this.onDepthUpdate = this.onDepthUpdate.bind(this);\n    this.onMediaChange = this.onMediaChange.bind(this);\n  }\n\n  componentWillUnmount() {\n    this.bus.removeEventListener('symbol:change', this.onSymbolChanged);\n    this.mql.removeEventListener(this.onMediaChange);\n    this.unsubscribeWSS();\n  }\n\n  componentDidMount() {\n    this.updateDepth();\n    this.subscribeWSS();\n\n    this.bus.addEventListener('symbol:change', this.onSymbolChanged);\n\n    this.mql = window.matchMedia('(max-width: 700px)');\n\n    this.mql.addListener(this.onMediaChange);\n\n    this.setState({ ...this.state, isMobile: this.mql.matches });\n  }\n\n  onMediaChange(e) {\n    this.setState({ ...this.state, isMobile: e.matches });\n  }\n\n  onDepthUpdate(data) {\n    const { selectedSymbol, lastUpdateId } = this.state;\n\n    if (data.s !== selectedSymbol) return;\n    if (data.u <= lastUpdateId) return;\n\n    const { b: bidsToUpdate, a: asksToUpdate } = data;\n    const partialState = {\n      bids: [...this.state.bids],\n      asks: [...this.state.asks],\n    };\n\n    const busMessage = {\n      asks: [],\n      bids: [],\n    };\n\n    const updateFn = (arrWithUpdates, result, bus) => {\n      for (let i = 0; i < arrWithUpdates.length; i++) {\n        const [price, qty] = arrWithUpdates[i];\n        const index = result.findIndex(([elementPrice]) => elementPrice === price);\n\n        // Новое значение\n        if (index === -1) {\n          if (Number(qty) !== 0) {\n            busMessage[bus].push({\n              type: 'create',\n              prev: [price, 0],\n              next: [price, qty],\n            });\n\n            result.push([price, qty]);\n          }\n\n          continue;\n        }\n\n        const [curPrice, curQty] = result[index];\n\n        // Нужно удалить, если amount (qty) = 0\n        if (Number(qty) === 0) {\n          result.splice(index, 1);\n\n          busMessage[bus].push({\n            type: 'delete',\n            prev: [curPrice, curQty],\n            next: [curPrice, 0],\n          });\n\n          continue;\n        }\n\n        busMessage[bus].push({\n          type: 'update',\n          prev: [curPrice, curQty],\n          next: [price, qty],\n        });\n\n        result[index] = [price, qty];\n      }\n    };\n\n    updateFn(bidsToUpdate, partialState.bids, 'bids');\n    updateFn(asksToUpdate, partialState.asks, 'asks');\n\n    this.bus.trigger('diff:update', busMessage);\n\n    this.setState({ ...this.state, ...partialState });\n  }\n\n  unsubscribeWSS() {\n    this.subscription && this.binance.unsubscribeWSS(this.subscription);\n  }\n\n  subscribeWSS() {\n    const { selectedSymbol } = this.state;\n    const streamName = `${selectedSymbol.toLowerCase()}@depth@1000ms`;\n\n    if (this.subscription?.[streamName]) {\n      return;\n    }\n\n    this.unsubscribeWSS();\n\n    this.subscription = { [streamName]: this.onDepthUpdate };\n    this.binance.subscribeWSS(this.subscription);\n  }\n\n\n  onSymbolChanged(symbol) {\n    this.setState({ ...this.state, selectedSymbol: symbol }, () => {\n      this.subscribeWSS();\n      this.updateDepth();\n    });\n  }\n\n  updateDepth() {\n    const getDepth = async () => {\n      const depth = await this.binance.getDepth(this.state.selectedSymbol, 100);\n\n      if (!depth.json) return;\n\n      this.setState({ ...this.state, ...depth.json });\n    };\n\n    getDepth();\n  }\n\n  render() {\n    if (!this.props.enabled) return null;\n\n    const { bids, asks, isMobile } = this.state;\n\n    const rows = [];\n    const rowsCount = Math.max(bids.length, asks.length);\n\n    const sortedBids = [...bids].sort((a, b) => b[0] - a[0]);\n    const sortedAsks = [...asks].sort((a, b) => a[0] - b[0]);\n\n    const fractionDigits = 8;\n    const formatStr = str => formatNumber(str, fractionDigits);\n\n    for (let i = 0; i < rowsCount; i++) {\n      const [askPrice, askQty] = sortedAsks[i] ?? [];\n      const [bidPrice, bidQty] = sortedBids[i] ?? [];\n\n      const bidTotal = (bidPrice && bidQty) ? formatStr(bidPrice * bidQty) : null;\n      const askTotal = (askPrice && askQty) ? formatStr(askPrice * askQty) : null;\n\n      rows.push(\n        <TableRow key={i}>\n          <TableCell align=\"left\">{formatStr(bidQty)}</TableCell>\n          <TableCell color=\"red\" borderRight={isMobile}>{formatStr(bidPrice)}</TableCell>\n          {!isMobile && <TableCell align=\"right\" borderRight>{formatStr(bidTotal)}</TableCell>}\n\n          {!isMobile && <TableCell align=\"left\" borderLeft>{formatStr(askTotal)}</TableCell>}\n          <TableCell color=\"green\" borderLeft={isMobile}>{formatStr(askPrice)}</TableCell>\n          <TableCell align=\"right\">{formatStr(askQty)}</TableCell>\n        </TableRow>\n      );\n    }\n\n    return (\n      <div className={cnLanding()}>\n        <Table className={cnLanding('Table')}>\n          <TableHead>\n            <TableRow>\n              <TableHeadCell colSpan={isMobile ? '2' : '3'}>Bids</TableHeadCell>\n              <TableHeadCell colSpan={isMobile ? '2' : '3'}>Asks</TableHeadCell>\n            </TableRow>\n            <TableRow>\n              <TableHeadCell>Amount</TableHeadCell>\n              <TableHeadCell>Price</TableHeadCell>\n              {!isMobile && <TableHeadCell>Total</TableHeadCell>}\n              {!isMobile && <TableHeadCell>Total</TableHeadCell>}\n              <TableHeadCell>Price</TableHeadCell>\n              <TableHeadCell>Amount</TableHeadCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows}\n          </TableBody>\n        </Table>\n      </div>\n    );\n  }\n}\n\n\nexport default Landing;\n"],"sourceRoot":""}